{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/main-page/components/current-conditions/current-conditions.component.ts","./src/app/main-page/components/main-page/main-page.component.ts","./src/app/main-page/components/zipcode-entry/zipcode-entry.component.ts","./src/app/main-page/main-page.module.ts","./src/app/shared/components/tab/tab.component.ts","./src/app/shared/components/tabs/tabs.component.ts","./src/app/shared/pipes/weather-icon.pipe.ts","./src/app/shared/services/cache.service.ts","./src/app/shared/services/location.service.ts","./src/app/shared/services/weather.service.ts","./src/app/shared/shared.module.ts","./src/app/shared/utils/array.utils.ts","./src/environments/environment.ts","./src/main.ts","./src/app/app.component.css","./src/app/main-page/components/current-conditions/current-conditions.component.css","./src/app/shared/components/tab/tab.component.css","./src/app/shared/components/tabs/tabs.component.css"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { LocationService } from './shared/services/location.service';\r\nimport { WeatherService } from './shared/services/weather.service';\r\nimport { pairwise, startWith } from 'rxjs/operators';\r\nimport { difference } from './shared/utils/array.utils';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n    constructor(private locationService: LocationService,\r\n                private weatherService: WeatherService) {\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        // To not simply invert the service dependencies, 'cause the conditions could simply come from anywhere else, it's the app component that has to connect the two\r\n        this.locationService.locations$.pipe(\r\n            startWith([] as string[]),\r\n            pairwise(),\r\n        ).subscribe(([previous, next]) => {\r\n            // Using difference with previous to compute added and removed\r\n            const newElements = difference(next, previous)\r\n            const removedElements = difference(previous, next)\r\n\r\n            newElements.forEach(l => this.weatherService.addCurrentConditions(l))\r\n            removedElements.forEach(l => this.weatherService.removeCurrentConditions(l))\r\n        })\r\n    }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LocationService } from './shared/services/location.service';\r\nimport { WeatherService } from './shared/services/weather.service';\r\nimport { RouterModule } from '@angular/router';\r\nimport { routing } from './app.routing';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { environment } from '../environments/environment';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { MainPageModule } from './main-page/main-page.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    RouterModule,\r\n    MainPageModule,\r\n    SharedModule,\r\n    routing,\r\n    ServiceWorkerModule.register('/ngsw-worker.js', { enabled: environment.production })\r\n  ],\r\n  providers: [LocationService, WeatherService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { ModuleWithProviders } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { MainPageComponent } from './main-page/components/main-page/main-page.component';\r\n\r\nconst appRoutes: Routes = [\r\n  {\r\n    path: '', component: MainPageComponent\r\n  },\r\n  {\r\n    path: 'forecast', loadChildren: () => import('./forecast-list-page/forecast-list.module').then(m => m.ForecastListModule)\r\n  }\r\n];\r\nexport const routing: ModuleWithProviders<any> = RouterModule.forRoot(appRoutes, {});\r\n","import {Component, inject, Signal} from '@angular/core';\r\nimport {WeatherService} from \"../../../shared/services/weather.service\";\r\nimport {LocationService} from \"../../../shared/services/location.service\";\r\nimport {Router} from \"@angular/router\";\r\nimport {ConditionsAndZip} from '../../../shared/types/conditions-and-zip.type';\r\nimport { forkJoin, Observable } from 'rxjs';\r\nimport { switchMap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-current-conditions',\r\n  templateUrl: './current-conditions.component.html',\r\n  styleUrls: ['./current-conditions.component.css']\r\n})\r\nexport class CurrentConditionsComponent {\r\n\r\n  private weatherService = inject(WeatherService);\r\n  private router = inject(Router);\r\n  protected locationService = inject(LocationService);\r\n\r\n  protected currentConditionsByZip: Signal<ConditionsAndZip[]> = this.weatherService.getCurrentConditions()\r\n\r\n  showForecast(zipcode : string){\r\n    this.router.navigate(['/forecast', zipcode])\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-main-page',\r\n  templateUrl: './main-page.component.html'\r\n})\r\nexport class MainPageComponent {\r\n}\r\n","import { Component } from '@angular/core';\r\nimport {LocationService} from \"../../../shared/services/location.service\";\r\n\r\n@Component({\r\n  selector: 'app-zipcode-entry',\r\n  templateUrl: './zipcode-entry.component.html'\r\n})\r\nexport class ZipcodeEntryComponent {\r\n\r\n  constructor(private service : LocationService) { }\r\n\r\n  addLocation(zipcode : string){\r\n    this.service.addLocation(zipcode);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { RouterModule } from '@angular/router';\r\nimport { MainPageComponent } from './components/main-page/main-page.component';\r\nimport { CurrentConditionsComponent } from './components/current-conditions/current-conditions.component';\r\nimport { ZipcodeEntryComponent } from './components/zipcode-entry/zipcode-entry.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        SharedModule,\r\n\r\n        RouterModule\r\n    ],\r\n    declarations: [\r\n        MainPageComponent,\r\n        ZipcodeEntryComponent,\r\n        CurrentConditionsComponent\r\n    ]\r\n})\r\nexport class MainPageModule {\r\n\r\n}\r\n","import { Component, ContentChild, EventEmitter, Input, Output, TemplateRef, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'tab',\r\n    templateUrl: 'tab.component.html',\r\n    styleUrl: 'tab.component.css'\r\n})\r\nexport class TabComponent {\r\n    @Input()\r\n    title: string\r\n\r\n    @Output()\r\n    closed: EventEmitter<void> = new EventEmitter<void>()\r\n\r\n    active: boolean = false\r\n\r\n    @ViewChild(TemplateRef)\r\n    public templateRef: TemplateRef<any>\r\n}\r\n","import { Component, ContentChildren, EventEmitter, Output } from '@angular/core';\r\nimport { TabComponent } from '../tab/tab.component';\r\n\r\n@Component({\r\n    selector: 'tabs',\r\n    templateUrl: 'tabs.component.html',\r\n    styleUrl: 'tabs.component.css'\r\n})\r\nexport class TabsComponent {\r\n    @ContentChildren(TabComponent) tabList: TabComponent[]\r\n\r\n    activeTab?: TabComponent\r\n\r\n    closeTab(tab: TabComponent) {\r\n        tab.closed.emit()\r\n        if(this.activeTab === tab) {\r\n            this.activeTab = undefined\r\n        }\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'weatherIcon',\r\n    pure: true\r\n})\r\nexport class WeatherIconPipe implements PipeTransform {\r\n    static ICON_URL = 'https://raw.githubusercontent.com/udacity/Sunshine-Version-2/sunshine_master/app/src/main/res/drawable-hdpi/';\r\n\r\n    transform(id: number): string {\r\n        if (id >= 200 && id <= 232)\r\n            return WeatherIconPipe.ICON_URL + \"art_storm.png\";\r\n        else if (id >= 501 && id <= 511)\r\n            return WeatherIconPipe.ICON_URL + \"art_rain.png\";\r\n        else if (id === 500 || (id >= 520 && id <= 531))\r\n            return WeatherIconPipe.ICON_URL + \"art_light_rain.png\";\r\n        else if (id >= 600 && id <= 622)\r\n            return WeatherIconPipe.ICON_URL + \"art_snow.png\";\r\n        else if (id >= 801 && id <= 804)\r\n            return WeatherIconPipe.ICON_URL + \"art_clouds.png\";\r\n        else if (id === 741 || id === 761)\r\n            return WeatherIconPipe.ICON_URL + \"art_fog.png\";\r\n        else\r\n            return WeatherIconPipe.ICON_URL + \"art_clear.png\";\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, of } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { CacheData } from '../types/cache-data.type';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class CacheService {\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * Get a cached value of an observable.\r\n     * Cache time default to 2h but can be configured\r\n     * @param id\r\n     * @param observable\r\n     * @param cacheTime\r\n     */\r\n    getCached<T>(id: string, observable: Observable<T>, cacheTime: number = 2*60*60*1000): Observable<T> {\r\n        const storedValue = localStorage.getItem(id)\r\n        if(storedValue) {\r\n            const storedData: CacheData<T> = JSON.parse(storedValue)\r\n            const now = Date.now()\r\n            if (now - storedData.storageTimestamp < cacheTime) {\r\n                return of(storedData.data)\r\n            }\r\n        }\r\n\r\n        return this.loadAndCache(id, observable)\r\n    }\r\n\r\n    private loadAndCache<T>(id: string, observable: Observable<T>): Observable<T> {\r\n        return observable.pipe(\r\n            tap(data => {\r\n               localStorage.setItem(id, JSON.stringify({\r\n                   storageTimestamp: Date.now(),\r\n                   data: data\r\n               }))\r\n            })\r\n        )\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {WeatherService} from \"./weather.service\";\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\n\r\nexport const LOCATIONS : string = \"locations\";\r\n\r\n@Injectable()\r\nexport class LocationService {\r\n\r\n  locations$: BehaviorSubject<string[]> = new BehaviorSubject<string[]>([]);\r\n\r\n  constructor() {\r\n    let locString = localStorage.getItem(LOCATIONS);\r\n    if (locString)\r\n      this.locations$.next(JSON.parse(locString));\r\n  }\r\n\r\n  addLocation(zipcode : string) {\r\n    this.locations$.next([...this.locations$.getValue(), zipcode]);\r\n    localStorage.setItem(LOCATIONS, JSON.stringify(this.locations$.getValue()));\r\n  }\r\n\r\n  removeLocation(zipcode : string) {\r\n    const locations = [...this.locations$.getValue()]\r\n    let index = this.locations$.getValue().indexOf(zipcode);\r\n    if (index !== -1){\r\n      locations.splice(index, 1);\r\n      this.locations$.next(locations)\r\n      localStorage.setItem(LOCATIONS, JSON.stringify(locations));\r\n    }\r\n  }\r\n}\r\n","import {Injectable, Signal, signal} from '@angular/core';\r\nimport {Observable} from 'rxjs';\r\n\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {CurrentConditions} from '../types/current-conditions.type';\r\nimport {ConditionsAndZip} from '../types/conditions-and-zip.type';\r\nimport {Forecast} from '../../forecast-list-page/forecasts-list/forecast.type';\r\nimport { CacheService } from './cache.service';\r\n\r\n@Injectable()\r\nexport class WeatherService {\r\n\r\n  static URL = 'https://api.openweathermap.org/data/2.5';\r\n  static APPID = '5a4b2d457ecbef9eb2a71e480b947604';\r\n  private currentConditions = signal<ConditionsAndZip[]>([]);\r\n\r\n  constructor(private http: HttpClient,\r\n              private cache: CacheService) { }\r\n\r\n  addCurrentConditions(zipcode: string): void {\r\n    // Here we make a request to get the current conditions data from the API. Note the use of backticks and an expression to insert the zipcode\r\n    this.cache.getCached(`weather.current-conditions.${zipcode}`,\r\n      this.http.get<CurrentConditions>(`${WeatherService.URL}/weather?zip=${zipcode},us&units=imperial&APPID=${WeatherService.APPID}`)\r\n    )\r\n      .subscribe(data => this.currentConditions.update(conditions => [...conditions, {zip: zipcode, data}]));\r\n  }\r\n\r\n  removeCurrentConditions(zipcode: string) {\r\n    this.currentConditions.update(conditions => {\r\n      for (let i in conditions) {\r\n        if (conditions[i].zip == zipcode)\r\n          conditions.splice(+i, 1);\r\n      }\r\n      return conditions;\r\n    })\r\n  }\r\n\r\n  getCurrentConditions(): Signal<ConditionsAndZip[]> {\r\n    return this.currentConditions.asReadonly();\r\n  }\r\n\r\n  getForecast(zipcode: string): Observable<Forecast> {\r\n    // Here we make a request to get the forecast data from the API. Note the use of backticks and an expression to insert the zipcode\r\n    return this.cache.getCached(`weather.forecast.${zipcode}`,\r\n      this.http.get<Forecast>(`${WeatherService.URL}/forecast/daily?zip=${zipcode},us&units=imperial&cnt=5&APPID=${WeatherService.APPID}`)\r\n    );\r\n\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { WeatherIconPipe } from './pipes/weather-icon.pipe';\r\nimport { TabsComponent } from './components/tabs/tabs.component';\r\nimport { TabComponent } from './components/tab/tab.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        TabsComponent,\r\n        TabComponent,\r\n\r\n        WeatherIconPipe\r\n    ],\r\n    exports: [\r\n        TabsComponent,\r\n        TabComponent,\r\n\r\n        WeatherIconPipe\r\n    ]\r\n})\r\nexport class SharedModule {\r\n\r\n}\r\n","\r\nexport function difference<T>(arr1: T[], arr2: T[]): T[] {\r\n    return arr1.filter(x => !arr2.includes(x));\r\n}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.close {\r\n  cursor: pointer;\r\n}\r\n.flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.well {\r\n  margin-bottom: 0px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/main-page/components/current-conditions/current-conditions.component.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAe;AACjB;AACA;EACE,aAAa;EACb,8BAA8B;AAChC;AACA;EACE,kBAAkB;AACpB\",\"sourcesContent\":[\".close {\\r\\n  cursor: pointer;\\r\\n}\\r\\n.flex {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n}\\r\\n.well {\\r\\n  margin-bottom: 0px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.Tabs {\r\n    padding: 8px;\r\n}\r\n\r\n.Tabs-Selector {\r\n    border-bottom: 1px solid green;\r\n}\r\n\r\n.Tabs-Content {\r\n    border: 1px solid green;\r\n}\r\n\r\n.Tabs-Selector-Header {\r\n    display: inline-block;\r\n    margin-left: 4px;\r\n    border: 1px solid green;\r\n    background-color: lightgreen;\r\n    padding: 4px;\r\n    cursor: pointer;\r\n}\r\n\r\n.Tabs-Selector-Header.is-active {\r\n    background-color: #00b300;\r\n}\r\n\r\n.Tabs-Selector-Header-Close {\r\n    margin-left: 6px;\r\n    font-size: 10px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/shared/components/tabs/tabs.component.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,YAAY;AAChB;;AAEA;IACI,8BAA8B;AAClC;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,qBAAqB;IACrB,gBAAgB;IAChB,uBAAuB;IACvB,4BAA4B;IAC5B,YAAY;IACZ,eAAe;AACnB;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,gBAAgB;IAChB,eAAe;AACnB\",\"sourcesContent\":[\".Tabs {\\r\\n    padding: 8px;\\r\\n}\\r\\n\\r\\n.Tabs-Selector {\\r\\n    border-bottom: 1px solid green;\\r\\n}\\r\\n\\r\\n.Tabs-Content {\\r\\n    border: 1px solid green;\\r\\n}\\r\\n\\r\\n.Tabs-Selector-Header {\\r\\n    display: inline-block;\\r\\n    margin-left: 4px;\\r\\n    border: 1px solid green;\\r\\n    background-color: lightgreen;\\r\\n    padding: 4px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.Tabs-Selector-Header.is-active {\\r\\n    background-color: #00b300;\\r\\n}\\r\\n\\r\\n.Tabs-Selector-Header-Close {\\r\\n    margin-left: 6px;\\r\\n    font-size: 10px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Component","LocationService","WeatherService","pairwise","startWith","difference","AppComponent","constructor","locationService","weatherService","ngOnInit","locations$","pipe","subscribe","previous","next","newElements","removedElements","forEach","l","addCurrentConditions","removeCurrentConditions","_","__decorate","selector","template","__NG_CLI_RESOURCE__0","BrowserModule","NgModule","FormsModule","RouterModule","routing","HttpClientModule","ServiceWorkerModule","environment","SharedModule","MainPageModule","AppModule","declarations","imports","register","enabled","production","providers","bootstrap","MainPageComponent","appRoutes","path","component","loadChildren","then","m","ForecastListModule","forRoot","inject","Router","CurrentConditionsComponent","router","currentConditionsByZip","getCurrentConditions","showForecast","zipcode","navigate","ZipcodeEntryComponent","service","addLocation","CommonModule","EventEmitter","Input","Output","TemplateRef","ViewChild","TabComponent","closed","active","args","ContentChildren","TabsComponent","closeTab","tab","emit","activeTab","undefined","Pipe","WeatherIconPipe","ICON_URL","transform","id","WeatherIconPipe_1","name","pure","Injectable","of","tap","CacheService","getCached","observable","cacheTime","storedValue","localStorage","getItem","storedData","JSON","parse","now","Date","storageTimestamp","data","loadAndCache","setItem","stringify","providedIn","BehaviorSubject","LOCATIONS","locString","getValue","removeLocation","locations","index","indexOf","splice","signal","HttpClient","URL","_3","APPID","http","cache","currentConditions","get","WeatherService_1","update","conditions","zip","i","asReadonly","getForecast","_4","exports","arr1","arr2","filter","x","includes","enableProdMode","platformBrowserDynamic","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}